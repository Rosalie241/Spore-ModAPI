<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ModAPI SDK Basics: Strings | Spore ModAPI SDK for creating C++ mods for Spore</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark.css" />
  <link rel="stylesheet" href="m-documentation.css" />
  <link rel="icon" href="Spore_ModAPI_Icon.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m"><img src="Spore_ModAPI_Icon.png" />Spore ModAPI <span class="m-thin">SDK for creating C++ mods for Spore</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Tutorials</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          ModAPI SDK Basics: Strings
        </h1>
        <p>How strings and text are used in the ModAPI.</p>
<p>In the ModAPI SDK there are multiple ways to represent text: C-strings, C++ strings, and localized text. Generally, you will use the C++ strings, and localized text if you need your text to accept translations. The use of C-strings is not recommended, but many calls in Spore use it so it&#x27;s good to know what it is.</p><section id="Sdk-Basics-Strings-Unicode"><h2><a href="#Sdk-Basics-Strings-Unicode">ASCII vs Unicode</a></h2><p>Usually, the strings we use in C++ are encoded in ASCII. This means that each character is just one byte, and the possible characters are quite limited. You have all the characters you need to write in English plus some extras, but not much more.</p><p>When other languages come into play, ASCII is not enough. Instead, you cna use the Unicode encoding: two bytes per character, can represent everything that you need, from Russian to Chinese to plain English.</p><p>To distinguish between ASCII and Unicode, we add a <em>16</em> to the type (because its 16 bits): instead of <code>char</code>, <code>char16_t</code>; instead of <code>string</code>, <code>string16</code>. When writing string literals, you have to add a <code>u</code> prefix to use Unicode:</p><pre class="m-code"><span class="c1">// C-style strings</span>
<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;This is ASCII&quot;</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">char16_t</span><span class="o">*</span> <span class="n">text</span> <span class="o">=</span> <span class="sa">u</span><span class="s">&quot;This is Unicode&quot;</span><span class="p">;</span>

<span class="c1">// C++ style strings</span>
<span class="n">string</span> <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;This is ASCII&quot;</span><span class="p">;</span>
<span class="n">string16</span> <span class="n">text</span> <span class="o">=</span> <span class="sa">u</span><span class="s">&quot;This is Unicode&quot;</span><span class="p">;</span></pre><p>When printing formatted strings (<code>printf</code>, <code><a href="namespace_app.html#a5cfc09513c296a1468b99530df311f4f" class="m-doc">App::<wbr />ConsolePrintF</a></code>, etc), <code>%s</code> is the format specifier for ASCII and <code>%ls</code> for Unicode.</p></section><section id="Sdk-Basics-Strings-C-strings"><h2><a href="#Sdk-Basics-Strings-C-strings">C-Strings</a></h2><p>C-strings are the most basic representation of strings, they are just a pointer to an array of characters, like <code>char*</code>.</p><pre class="m-code"><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;This is ASCII&quot;</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">char16_t</span><span class="o">*</span> <span class="n">text</span> <span class="o">=</span> <span class="sa">u</span><span class="s">&quot;This is Unicode&quot;</span><span class="p">;</span></pre><p>They are set as <code>const</code> because the text inside must not be modified.</p><p>It is possible to access particular characters by using <code>[]</code>. To calculate the length of the string, use the method <code>strlen()</code>.</p></section><section id="Sdk-Basics-Strings-Cpp-strings"><h2><a href="#Sdk-Basics-Strings-Cpp-strings">C++ Strings</a></h2><p>This will be how you use strings more frequently, with the types <code>string</code> (ASCII) and <code>string16</code> (Unicode).</p><pre class="m-code"><span class="n">string</span> <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;This is ASCII&quot;</span><span class="p">;</span>
<span class="n">string16</span> <span class="n">text</span> <span class="o">=</span> <span class="sa">u</span><span class="s">&quot;This is Unicode&quot;</span><span class="p">;</span></pre><p>You can concatenate strings with <code>+</code>.</p><pre class="m-code"><span class="n">string</span> <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;This is ASCII&quot;</span><span class="p">;</span>
<span class="n">string</span> <span class="n">text2</span> <span class="o">=</span> <span class="s">&quot;My text: &quot;</span> <span class="o">+</span> <span class="n">text</span><span class="p">;</span></pre><p>You can access particular characters by using <code>[]</code>. Calling <code>text.size()</code> will return the length of the string. You can also use <em>for each</em> loops to get every character in the string:</p><pre class="m-code"><span class="n">string</span> <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;random text&quot;</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">text</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">App</span><span class="o">::</span><span class="n">ConsolePrintF</span><span class="p">(</span><span class="s">&quot;Character %d: %c&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="p">}</span>

<span class="c1">// This does the same:</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">char</span> <span class="nl">c</span> <span class="p">:</span> <span class="n">text</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">App</span><span class="o">::</span><span class="n">ConsolePrintF</span><span class="p">(</span><span class="s">&quot;Character %d: %c&quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">);</span>
<span class="p">}</span></pre><p>When using a C++ string in a <code>printf</code>-like operation, you have to call <code>.c_str()</code>:</p><pre class="m-code"><span class="n">string16</span> <span class="n">text</span> <span class="o">=</span> <span class="sa">u</span><span class="s">&quot;This is Unicode&quot;</span><span class="p">;</span>
<span class="n">App</span><span class="o">::</span><span class="n">ConsolePrintF</span><span class="p">(</span><span class="s">&quot;Printing a unicode string: %ls&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span></pre><p>It is also possible to save the result of a printf inside a string:</p><pre class="m-code"><span class="n">string</span> <span class="n">result</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">;</span>
<span class="n">result</span><span class="p">.</span><span class="n">sprintf</span><span class="p">(</span><span class="s">&quot;%d - %d&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span></pre></section><section id="Sdk-Basics-Strings-Localized"><h2><a href="#Sdk-Basics-Strings-Localized">Localized Strings</a></h2><p>In Spore and the ModAPI SDK, it is possible to use strings that depend on the current language of the game. THis is done with the <a href="class_localized_string.html" class="m-doc">LocalizedString</a> class. These strings are identified with a <em>table ID</em> and an <em>instance ID</em>. The table ID is the name of a <code>.locale</code> file inside the <code>locale~</code> folder; the instance ID is a hexadecimal number that identifies a string within that file.</p><p>You can specify the table and instance IDs either when creating the <a href="class_localized_string.html" class="m-doc">LocalizedString</a> or by calling the <code>SetText()</code> method. Call <code>GetText()</code> to get the translated text (it&#x27;s Unicode):</p><pre class="m-code"><span class="n">LocalizedString</span> <span class="nf">text</span><span class="p">(</span><span class="n">id</span><span class="p">(</span><span class="s">&quot;ScenarioMode&quot;</span><span class="p">),</span> <span class="mh">0x07D91073</span><span class="p">);</span>
<span class="n">string16</span> <span class="n">translation</span> <span class="o">=</span> <span class="n">text</span><span class="p">.</span><span class="n">GetText</span><span class="p">();</span></pre></section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Spore ModAPI SDK for creating C++ mods for Spore. Created with <a href="https://doxygen.org/">Doxygen</a> 1.8.16 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
